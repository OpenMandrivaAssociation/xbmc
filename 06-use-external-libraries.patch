Description: Use system's libraries instead of the embedded ones
 .
Author: Balint Reczey <balint@balintreczey.hu>
Forwarded: not-needed

--- a/Makefile.in
+++ b/Makefile.in
@@ -166,7 +166,6 @@ PAPCODECS_DIRS= \
 	lib/xbadpcm \
 	lib/nosefart \
 	lib/timidity \
-	lib/libsidplay2 \
 	lib/stsound/StSoundLibrary \
 	lib/snesapu/SNES/SNESAPU \
 	lib/vgmstream
@@ -361,7 +360,7 @@ papcodecs: dllloader dvdpcodecs
 	$(MAKE) -C lib/timidity
 	$(MAKE) -C lib/nosefart
 ifneq ($(findstring arm-osx,@ARCH@), arm-osx)
-	$(MAKE) -C lib/libsidplay2
+#	$(MAKE) -C lib/libsidplay2
 endif
 ifeq (@USE_ASAP_CODEC@,1)
   ifneq ($(findstring osx,@ARCH@), osx)
diff --git a/configure.in b/configure.in
index 358a541..dbb43d6 100644
--- a/configure.in
+++ b/configure.in
@@ -1002,6 +1002,9 @@ PKG_CHECK_MODULES([FREETYPE2],  [freetype2],
 PKG_CHECK_MODULES([TAGLIB],  [taglib >= 1.8],
   [INCLUDES="$INCLUDES $TAGLIB_CFLAGS"; LIBS="$LIBS $TAGLIB_LIBS"],
   AC_MSG_ERROR($missing_library))
+PKG_CHECK_MODULES([SIDPLAY],  [libsidplay2],
+  [INCLUDES="$INCLUDES $SIDPLAY_CFLAGS"; LIBS="$LIBS $SIDPLAY_LIBS"],
+  AC_MSG_ERROR($missing_library))
 
 if test "$target_platform" = "target_android" ; then
 PKG_CHECK_MODULES([ZIP],       [libzip],
@@ -2319,7 +2322,6 @@ OUTPUT_FILES="Makefile \
     lib/xbadpcm/Makefile \
     lib/asap/Makefile \
     lib/nosefart/Makefile \
-    lib/libsidplay2/Makefile \
     lib/vgmstream/Makefile \
     lib/snesapu/SNES/SNESAPU/Makefile \
     lib/stsound/StSoundLibrary/Makefile \
